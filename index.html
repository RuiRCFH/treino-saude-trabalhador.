<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultoria Rui - SaÃºde do Trabalhador</title>
    <style>
        :root {
            --primary: #4A90E2;
            --secondary: #2ECC71;
            --bg: #F0F4F8;
            --text: #2C3E50;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: var(--bg); 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
        }

        #app-card { 
            background: white; 
            width: 90%; 
            max-width: 450px; 
            border-radius: 25px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); 
            padding: 30px; 
            text-align: center;
        }

        .tela { display: none; }
        .ativa { display: block; animation: fadeIn 0.4s; }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            box-sizing: border-box;
            font-size: 16px;
        }

        .btn-geral {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
            transition: 0.2s;
        }

        .btn-primario { background: var(--primary); color: white; }
        .btn-opcao { 
            background: white; 
            border: 2px solid #E2E8F0; 
            text-align: left; 
            margin-bottom: 12px;
            border-radius: 15px;
            padding: 15px;
        }
        .btn-whatsapp { background: #25D366; color: white; margin-top: 20px; }

        .progress-bg { background: #EDF2F7; height: 10px; border-radius: 5px; margin: 20px 0; }
        #progress-fill { background: var(--primary); width: 0%; height: 100%; transition: 0.5s; border-radius: 5px; }

        .feedback-box { background: #EBF8FF; padding: 20px; border-radius: 15px; color: #2B6CB0; margin-bottom: 20px; text-align: left; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div id="app-card">
    <div id="tela-inicio" class="tela ativa">
        <h2 style="color: var(--primary);">Treino de Habilidades</h2>
        <p>Desenvolva a sua comunicaÃ§Ã£o no trabalho.</p>
        <input type="text" id="nome-usuario" placeholder="Digite o seu nome...">
        <button class="btn-geral btn-primario" onclick="iniciarTreino()">ComeÃ§ar Treino â†’</button>
    </div>

    <div id="tela-treino" class="tela">
        <div class="progress-bg"><div id="progress-fill"></div></div>
        <h3 id="texto-cenario" style="text-align: left;">CenÃ¡rio...</h3>
        <div id="lista-opcoes"></div>
    </div>

    <div id="tela-feedback" class="tela">
        <div id="feedback-msg" class="feedback-box"></div>
        <button class="btn-geral btn-primario" onclick="proximaPergunta()">Continuar â†’</button>
    </div>

    <div id="tela-final" class="tela">
        <h1 style="color: var(--secondary);">ConcluÃ­do! âœ…</h1>
        <p id="mensagem-final"></p>
        <button class="btn-geral btn-whatsapp" onclick="partilharWhatsApp()">Partilhar no WhatsApp ðŸ“±</button>
        <button class="btn-geral" style="background:#CBD5E0" onclick="location.reload()">Refazer</button>
    </div>
</div>

<script>
    const perguntas = [
        {
            cenario: "O supervisor pede algo no sÃ¡bado Ã  tarde. Como reage?",
            opcoes: [
                { texto: "Respondo logo para ser prestÃ¡vel.", feedback: "Cuidado! Estar sempre disponÃ­vel aumenta o risco de burnout." },
                { texto: "Respondo na segunda de forma profissional.", feedback: "Excelente! Definir limites Ã© essencial para a saÃºde mental." },
                { texto: "Ignoro e fico ansioso.", feedback: "A omissÃ£o gera stress. A comunicaÃ§Ã£o clara Ã© melhor." }
            ]
        },
        {
            cenario: "Um colega cometeu um erro que o afetou diretamente.",
            opcoes: [
                { texto: "Digo: 'Notei um erro no processo, podemos rever?'.", feedback: "Ã“timo! Focou no problema e nÃ£o na culpa." },
                { texto: "Digo que ele estÃ¡ sempre a errar.", feedback: "Isso gera agressividade e quebra a confianÃ§a da equipa." },
                { texto: "RefaÃ§o o trabalho sem dizer nada.", feedback: "Isto sobrecarrega-o e o colega nÃ£o aprende." }
            ]
        }
    ];

    let indiceAtual = 0;
    let nomeUsuario = "";

    function trocarTela(idAtiva) {
        // Esconde todas as telas
        document.getElementById('tela-inicio').classList.remove('ativa');
        document.getElementById('tela-treino').classList.remove('ativa');
        document.getElementById('tela-feedback').classList.remove('ativa');
        document.getElementById('tela-final').classList.remove('ativa');
        // Mostra a tela desejada
        document.getElementById(idAtiva).classList.add('ativa');
    }

    function iniciarTreino() {
        const inputNome = document.getElementById('nome-usuario').value;
        if(inputNome.trim() === "") {
            alert("Por favor, insira o seu nome para comeÃ§ar.");
            return;
        }
        nomeUsuario = inputNome;
        trocarTela('tela-treino');
        carregarQuestao();
    }

    function carregarQuestao() {
        const p = perguntas[indiceAtual];
        document.getElementById('texto-cenario').innerText = p.cenario;
        document.getElementById('progress-fill').style.width = (indiceAtual / perguntas.length) * 100 + "%";
        
        const lista = document.getElementById('lista-opcoes');
        lista.innerHTML = "";
        
        p.opcoes.forEach(op => {
            const btn = document.createElement('button');
            btn.className = "btn-geral btn-opcao";
            btn.innerText = op.texto;
            btn.onclick = () => {
                document.getElementById('feedback-msg').innerText = op.feedback;
                trocarTela('tela-feedback');
            };
            lista.appendChild(btn);
        });
    }

    function proximaPergunta() {
        indiceAtual++;
        if (indiceAtual < perguntas.length) {
            trocarTela('tela-treino');
            carregarQuestao();
        } else {
            document.getElementById('mensagem-final').innerText = "ParabÃ©ns, " + nomeUsuario + "! Completou o seu treino de saÃºde mental.";
            trocarTela('tela-final');
        }
    }

    function partilharWhatsApp() {
        const msg = "OlÃ¡! Eu sou o " + nomeUsuario + " e acabei de treinar as minhas Habilidades Sociais! ðŸš€";
        window.open("https://wa.me/?text=" + encodeURIComponent(msg), '_blank');
    }
</script>
</body>
</html>
