<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultoria Rui - Acesso Restrito</title>
    <style>
        :root {
            --primary: #4A90E2;
            --secondary: #2ECC71;
            --bg: #F0F4F8;
            --text: #2C3E50;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: var(--bg); 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
        }

        #app-card { 
            background: white; 
            width: 90%; 
            max-width: 450px; 
            border-radius: 25px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); 
            padding: 30px; 
            text-align: center;
        }

        .tela { display: none; }
        .ativa { display: block; animation: fadeIn 0.4s; }

        input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            box-sizing: border-box;
            font-size: 16px;
        }

        .btn-geral {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
            transition: 0.2s;
        }

        .btn-primario { background: var(--primary); color: white; }
        .btn-opcao { 
            background: white; 
            border: 2px solid #E2E8F0; 
            text-align: left; 
            margin-bottom: 12px;
            border-radius: 15px;
            padding: 15px;
        }
        .btn-whatsapp { background: #25D366; color: white; margin-top: 20px; }

        .progress-bg { background: #EDF2F7; height: 10px; border-radius: 5px; margin: 20px 0; }
        #progress-fill { background: var(--primary); width: 0%; height: 100%; transition: 0.5s; border-radius: 5px; }

        .feedback-box { background: #EBF8FF; padding: 20px; border-radius: 15px; color: #2B6CB0; margin-bottom: 20px; text-align: left; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div id="app-card">
    <div id="tela-login" class="tela ativa">
        <h2 style="color: var(--primary);">√Årea Restrita</h2>
        <p>Introduza a sua chave de acesso para come√ßar o treino.</p>
        <input type="password" id="campo-senha" placeholder="Palavra-passe">
        <button class="btn-geral btn-primario" onclick="verificarSenha()">Entrar</button>
        <p id="erro-senha" style="color: red; display: none; font-size: 14px; margin-top: 10px;">Chave incorreta. Tente novamente.</p>
    </div>

    <div id="tela-inicio" class="tela">
        <h2 style="color: var(--primary);">Bem-vindo ao Treino</h2>
        <p>Consultoria em Sa√∫de do Trabalhador</p>
        <input type="text" id="nome-usuario" placeholder="Como se chama?">
        <button class="btn-geral btn-primario" onclick="iniciarTreino()">Come√ßar ‚Üí</button>
    </div>

    <div id="tela-treino" class="tela">
        <div class="progress-bg"><div id="progress-fill"></div></div>
        <h3 id="texto-cenario" style="text-align: left;">Cen√°rio...</h3>
        <div id="lista-opcoes"></div>
    </div>

    <div id="tela-feedback" class="tela">
        <div id="feedback-msg" class="feedback-box"></div>
        <button class="btn-geral btn-primario" onclick="proximaPergunta()">Continuar ‚Üí</button>
    </div>

    <div id="tela-final" class="tela">
        <h1 style="color: var(--secondary);">Conclu√≠do! ‚úÖ</h1>
        <p id="mensagem-final"></p>
        <button class="btn-geral btn-whatsapp" onclick="partilharWhatsApp()">Partilhar no WhatsApp üì±</button>
    </div>
</div>

<script>
    // --- CONFIGURA√á√ÉO DE ACESSO ---
    const SENHA_CORRETA = "RUI2024"; // Pode mudar esta senha quando quiser!

    const perguntas = [
        {
            cenario: "O supervisor pede algo no s√°bado √† tarde. Como reage?",
            opcoes: [
                { texto: "Respondo logo para ser prest√°vel.", feedback: "Cuidado! Estar sempre dispon√≠vel aumenta o risco de burnout." },
                { texto: "Respondo na segunda de forma profissional.", feedback: "Excelente! Definir limites √© essencial para a sa√∫de mental." },
                { texto: "Ignoro e fico ansioso.", feedback: "A omiss√£o gera stress. A comunica√ß√£o clara √© melhor." }
            ]
        },
        {
            cenario: "Um colega cometeu um erro que o afetou diretamente.",
            opcoes: [
                { texto: "Digo: 'Notei um erro no processo, podemos rever?'.", feedback: "√ìtimo! Focou no problema e n√£o na culpa." },
                { texto: "Digo que ele est√° sempre a errar.", feedback: "Isso gera agressividade e quebra a confian√ßa da equipa." },
                { texto: "Refa√ßo o trabalho sem dizer nada.", feedback: "Isto sobrecarrega-o e o colega n√£o aprende." }
            ]
        }
    ];

    let indiceAtual = 0;
    let nomeUsuario = "";

    // FUN√á√ïES DE NAVEGA√á√ÉO
    function esconderTodas() {
        document.querySelectorAll('.tela').forEach(t => t.classList.remove('ativa'));
    }

    function verificarSenha() {
        const senhaDigitada = document.getElementById('campo-senha').value;
        if(senhaDigitada === SENHA_CORRETA) {
            esconderTodas();
            document.getElementById('tela-inicio').classList.add('ativa');
        } else {
            document.getElementById('erro-senha').style.display = 'block';
        }
    }

    function iniciarTreino() {
        const inputNome = document.getElementById('nome-usuario').value;
        if(inputNome.trim() === "") {
            alert("Insira o seu nome.");
            return;
        }
        nomeUsuario = inputNome;
        esconderTodas();
        document.getElementById('tela-treino').classList.add('ativa');
        carregarQuestao();
    }

    function carregarQuestao() {
        const p = perguntas[indiceAtual];
        document.getElementById('texto-cenario').innerText = p.cenario;
        document.getElementById('progress-fill').style.width = (indiceAtual / perguntas.length) * 100 + "%";
        
        const lista = document.getElementById('lista-opcoes');
        lista.innerHTML = "";
        
        p.opcoes.forEach(op => {
            const btn = document.createElement('button');
            btn.className = "btn-geral btn-opcao";
            btn.innerText = op.texto;
            btn.onclick = () => {
                document.getElementById('feedback-msg').innerText = op.feedback;
                esconderTodas();
                document.getElementById('tela-feedback').classList.add('ativa');
            };
            lista.appendChild(btn);
        });
    }

    function proximaPergunta() {
        indiceAtual++;
        if (indiceAtual < perguntas.length) {
            esconderTodas();
            document.getElementById('tela-treino').classList.add('ativa');
            carregarQuestao();
        } else {
            document.getElementById('mensagem-final').innerText = "Parab√©ns, " + nomeUsuario + "! Completou o seu treino de sa√∫de mental.";
            esconderTodas();
            document.getElementById('tela-final').classList.add('ativa');
        }
    }

    function partilharWhatsApp() {
        const msg = "Ol√°! Eu sou o " + nomeUsuario + " e acabei de treinar as minhas Habilidades Sociais! üöÄ";
        window.open("https://wa.me/?text=" + encodeURIComponent(msg), '_blank');
    }
</script>
</body>
</html>
